!function(e,t,n,o){var a="lazyLoadXT",i="lazied",l="load error",r=n.documentElement||n.body,s={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:t.onscroll===o||!!t.operamini||!r.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:"lazy-hidden"},onload:{removeClass:"lazy-hidden",addClass:"lazy-loaded"},onerror:{removeClass:"lazy-hidden"},checkDuplicates:!0},d={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},c=e(t),f=e.isFunction,u=e.extend,A=e.data||function(t,n){return e(t).data(n)},g=[],h=0,v=0;function m(e,t){return e[t]===o?s[t]:e[t]}function y(){var e=t.pageYOffset;return e===o?r.scrollTop:e}function p(e,t){var n=s["on"+e];n&&(f(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),E()}function C(t){p(t.type,e(this).off(l,C))}function w(n){if(g.length){n=n||s.forceLoad,h=1/0;var o,d,c=y(),u=t.innerHeight||r.clientHeight,v=t.innerWidth||r.clientWidth;for(o=0,d=g.length;o<d;o++){var m,w=g[o],z=w[0],E=w[a],b=!1,I=n||A(z,i)<0;if(e.contains(r,z)){if(n||!E.visibleOnly||z.offsetWidth||z.offsetHeight){if(!I){var T=z.getBoundingClientRect(),B=E.edgeX,L=E.edgeY;I=(m=T.top+c-L-u)<=c&&T.bottom>-L&&T.left<=v+B&&T.right>-B}if(I){w.on(l,C),p("show",w);var X=E.srcAttr,k=f(X)?X(w):z.getAttribute(X);k&&(z.src=k),b=!0}else m<h&&(h=m)}}else b=!0;b&&(A(z,i,0),g.splice(o--,1),d--)}d||p("complete",e(r))}}function z(){v>1?(v=1,w(),setTimeout(z,s.throttle)):v=0}function E(e){g.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&h>=y()||(v||setTimeout(z,0),v=2))}function b(){c.lazyLoadXT()}function I(){w(!0)}e[a]=u(s,d,e[a]),e.fn[a]=function(n){var o,l=m(n=n||{},"blankImage"),r=m(n,"checkDuplicates"),c=m(n,"scrollContainer"),f=m(n,"show"),h={};for(o in e(c).on("scroll",E),d)h[o]=m(n,o);return this.each(function(o,d){if(d===t)e(s.selector).lazyLoadXT(n);else{var c=r&&A(d,i),v=e(d).data(i,f?-1:1);if(c)return void E();l&&"IMG"===d.tagName&&!d.src&&(d.src=l),v[a]=u({},h),p("init",v),g.push(v),E()}})},e(n).ready(function(){p("start",c),c.on(s.updateEvent,E).on(s.forceEvent,I),e(n).on(s.updateEvent,E),s.autoInit&&(c.on(s.loadEvent,b),b())})}(window.jQuery||window.Zepto||window.$,window,document);